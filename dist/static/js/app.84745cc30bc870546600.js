webpackJsonp([2,0],[function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}var a=n(14),i=o(a),r=n(58),d=o(r),s=n(70),c=o(s);n(47);var u=n(71),l=o(u),f=n(15),m=o(f),v=n(51),p=o(v),_=n(12),h=o(_);n(52),n(40);var g=n(33),w=o(g),b=n(57),A=o(b);window.sweetAlert=A.default,window.axios=m.default,window.querystring=p.default,i.default.prototype.$http=m.default,i.default.use(c.default),i.default.use(l.default),window.axios.defaults.headers.common={"X-Requested-With":"XMLHttpRequest"},h.default.loggedIn()&&(window.axios.defaults.headers.common={Authorization:h.default.getAuthHeader()});var T=new l.default({mode:"history",routes:w.default});new i.default({el:"#app",template:"<App/>",components:{App:d.default},router:T})},,,function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={STORAGE_TOKEN_KEY:"roger",OAUTH_CLIENT_ID:1,OAUTH_REDIRECT_URI:"http://localhost:8095/login",OAUTH_SERVER_URL:"http://todos.dev:8080/oauth/authorize?",API_TASK_URL:"http://todos.dev:8080/api/v1/task",API_PROFILE_URL:"http://todos.dev:8080/api/v1/user"};e.default=n},,,,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){setTimeout(function(){n("joe@example.com"===t&&"password1"===e?{authenticated:!0,token:Math.random().toString(36).substring(7)}:{authenticated:!1})},0)}Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),r=o(i);e.default={login:function(t,e,n){var o=this;return n=arguments[arguments.length-1],window.localStorage.token?(n&&n(!0),void this.onChange(!0)):void a(t,e,function(t){t.authenticated?(window.localStorage.token=t.token,n&&n(!0),o.onChange(!0)):(n&&n(!1),o.onChange(!1))})},getToken:function(){return window.localStorage.getItem(r.default.STORAGE_TOKEN_KEY)},saveToken:function(t){window.localStorage.setItem(r.default.STORAGE_TOKEN_KEY,t)},logout:function(t){delete window.localStorage.token,t&&t(),this.onChange(!1)},loggedIn:function(){return!!window.localStorage.getItem(r.default.STORAGE_TOKEN_KEY)},getAuthHeader:function(){return"Bearer "+this.getToken()},onChange:function(){}}},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(63),i=o(a),r=n(62),d=o(r),s=n(61),c=o(s),u=n(60),l=o(u),f=n(59),m=o(f),v=[{path:"/todos",component:d.default,auth:!0},{path:"/tokens",component:i.default,auth:!1},{path:"/profile",component:c.default,auth:!0},{path:"/login",component:m.default,auth:!1},{path:"*",component:l.default,auth:!1}];e.default=v},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",methods:{toggleLeftSidenav:function(){this.$refs.leftSidenav.toggle()},open:function(t){console.log("Opened: "+t)},close:function(t){console.log("Closed: "+t)}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=o(a),r=n(12),d=o(r);e.default={data:function(){return{authorized:!1}},methods:{extractToken:function(t){return t.match(/#(?:access_token)=([\S\s]*?)&/)[1]},saveToken:function(t){window.localStorage.setItem(i.default.STORAGE_TOKEN_KEY,t)},fetchToken:function(){return window.localStorage.getItem(i.default.STORAGE_TOKEN_KEY)},login:function(){t={client_id:i.default.OAUTH_CLIENT_ID,redirect_uri:i.default.OAUTH_REDIRECT_URI,response_type:"token",scope:""};var t=window.querystring.stringify(t);window.location.replace(i.default.OAUTH_SERVER_URL+t)},logout:function(){window.localStorage.removeItem(i.default.STORAGE_TOKEN_KEY),this.authorized=!1},initLogout:function(){this.openDialog("sureToLogout")},openDialog:function(t){this.$refs[t].open()},onCloseSureToLogout:function(t){"ok"===t&&this.logout()}},created:function(){if(document.location.hash)var t=this.extractToken(document.location.hash);t&&this.saveToken(t),null==this.token&&(this.token=d.default.getToken()),this.token?(this.authorized=!0,this.$http.defaults.headers.common.Authorization=d.default.getAuthHeader()):(this.authorized=!1,this.$http.defaults.headers.common.Authorization="")}}},function(t,e){"use strict"},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=o(a);e.default={data:function(){return{avatar:"https://s.gravatar.com/avatar/7d23ac5a56b02117f12c54f0d98bf6de?s=80",id:null,name:null,email:null,createdAt:null,updatedAt:null,connecting:!0,page:0}},computed:{avatarHash:function(){return"7d23ac5a56b02117f12c54f0d98bf6de?s=80"}},created:function(){console.log("Component profile created"),this.fetchUserProfile()},methods:{fetchUserProfile:function(){var t=this;this.$http.get(i.default.API_PROFILE_URL+this.page).then(function(e){t.connecting=!1,t.id=e.data.id,t.name=e.data.name,t.email=e.data.email,t.createdAt=e.data.created_at,t.updatedAt=e.data.updated_at},function(e){t.connecting=!1,t.showConnectionError(),window.sweetAlert("Oops...","Something went wrong!","error")})},showConnectionError:function(){this.$refs.connectionError.open()}}}},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(3),i=o(a);e.default={data:function(){return{todos:[],connecting:!1,total:0,perPage:0,page:0}},created:function(){var t=this;setTimeout(function(){t.fetchData(),t.connecting=!1},500)},methods:{fetchData:function(){return this.fetchPage(1)},fetchPage:function(t){var e=this;this.$http.get(i.default.API_TASK_URL+"?page="+t).then(function(t){e.connecting=!1,e.todos=t.data.data,e.total=t.data.total,e.perPage=t.data.per_page,e.page=t.data.current_page},function(t){e.connecting=!1,e.showConnectionError(),e.authorized=!1,window.sweetAlert("Oops...","Something went wrong!","error")})},showConnectionError:function(){this.$refs.connectionError.open()},onPagination:function(){console.log("pagination todo!")},deleteTodo:function(t,e){var n=this;window.swal({title:"Are you sure?",text:"You will not be able to recover this task!",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"Yes, delete it!",closeOnConfirm:!1},function(){window.swal("Deleted!","Your task has been deleted.","success"),n.deleteTodoApi(e),n.fetchPage(n.page)})},deleteTodoApi:function(t){this.$http.delete(i.default.API_TASK_URL+"/"+t).then(function(t){console.log(t)},function(t){window.sweetAlert("Oops...","Something went wrong!","error"),console.log(t)})}}}},function(t,e){"use strict"},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,function(t,e,n){var o,a;n(43),o=n(34);var i=n(66);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o,a;n(44),o=n(35);var i=n(67);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o,a;n(42),o=n(36);var i=n(65);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o,a;n(46),o=n(37);var i=n(69);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o,a;n(45),o=n(38);var i=n(68);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e,n){var o,a;n(41),o=n(39);var i=n(64);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=i.render,a.staticRenderFns=i.staticRenderFns,t.exports=o},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n    Tokens here\n")])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header-component"),t._v(" "),n("div",[t._v("Route not found")]),t._v(" "),n("other-component")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"phone-viewport"},[n("md-toolbar",[n("md-button",{staticClass:"md-icon-button",on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("menu")])],1),t._v(" "),n("h2",{staticClass:"md-title"},[t._v("Todos")])],1),t._v(" "),n("md-sidenav",{ref:"leftSidenav",staticClass:"md-left",on:{open:function(e){t.open("Left")},close:function(e){t.close("Left")}}},[n("md-toolbar",{staticClass:"md-large"},[n("div",{staticClass:"md-toolbar-container"},[n("h3",{staticClass:"md-title"},[t._v("Todos")])])]),t._v(" "),n("md-list",[n("md-list-item",{on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("move_to_inbox")]),t._v(" "),n("router-link",{attrs:{to:"/todos"}},[t._v("Todos")])],1),t._v(" "),n("md-list-item",{on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("send")]),t._v(" "),n("router-link",{attrs:{to:"/tokens"}},[t._v("Tokens")])],1),t._v(" "),n("md-list-item",{on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("account_circle")]),t._v(" "),n("router-link",{attrs:{to:"/profile"}},[t._v("Profile")])],1),t._v(" "),n("md-list-item",{on:{click:t.toggleLeftSidenav}},[n("md-icon",[t._v("input")]),t._v(" "),n("router-link",{attrs:{exact:"",to:"/login"}},[t._v("Login/Logout")])],1)],1)],1),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",[n("md-card-header",[n("div",{staticClass:"md-title"},[t._v("Login")])]),t._v(" "),n("md-card-content",[n("md-button",{directives:[{name:"show",rawName:"v-show",value:!t.authorized,expression:"!authorized"}],staticClass:"md-raised md-primary",on:{click:t.login}},[t._v("Login")]),t._v(" "),n("md-button",{directives:[{name:"show",rawName:"v-show",value:t.authorized,expression:"authorized"}],staticClass:"md-raised md-primary",on:{click:t.initLogout}},[t._v("Logout")])],1),t._v(" "),n("md-dialog-confirm",{ref:"sureToLogout",attrs:{"md-title":"Logout","md-content":"Are you sure you want to logout?","md-ok-text":"Ok","md-cancel-text":"Cancel"},on:{close:t.onCloseSureToLogout}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("md-table-card",[n("md-toolbar",[n("h1",{staticClass:"md-title"},[t._v("Todos")]),t._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[t._v("filter_list")])],1),t._v(" "),n("md-button",{staticClass:"md-icon-button"},[n("md-icon",[t._v("search")])],1)],1),t._v(" "),n("md-table",{attrs:{"md-sort":"name","md-sort-type":"desc"}},[n("md-table-header",[n("md-table-row",[n("md-table-head",{attrs:{"md-sort-by":"name"}},[t._v("Name")]),t._v(" "),n("md-table-head",{attrs:{"md-sort-by":"priority","md-numeric":""}},[t._v("Priority")]),t._v(" "),n("md-table-head",{attrs:{"md-sort-by":"done"}},[t._v("Done")]),t._v(" "),n("md-table-head",{attrs:{"md-sort-by":"actions"}},[t._v("Actions")])],1)],1),t._v(" "),n("md-spinner",{directives:[{name:"show",rawName:"v-show",value:t.connecting,expression:"connecting"}],staticClass:"md-accent",attrs:{"md-size":150,"md-indeterminate":""}}),t._v(" "),n("md-table-body",t._l(t.todos,function(e,o){return n("md-table-row",{attrs:{"md-auto-select":"","md-selection":""}},[n("md-table-cell",[t._v(t._s(o+1)+" "+t._s(e.name))]),t._v(" "),n("md-table-cell",[t._v(t._s(e.priority))]),t._v(" "),n("md-table-cell",[t._v(t._s(e.done))]),t._v(" "),n("md-table-cell",[n("span",{staticClass:"btn btn-md btn-danger",on:{click:function(n){t.deleteTodo(o,e.id)}}},[n("md-icon",[t._v("delete_forever")])],1)])],1)}))],1),t._v(" "),n("md-table-pagination",{attrs:{"md-size":t.perPage,"md-total":t.total,"md-page":t.page,"md-label":"Rows","md-separator":"of","md-page-options":[5,15,25,50]},on:{pagination:t.onPagination}})],1),t._v(" "),n("md-snackbar",{ref:"connectionError",attrs:{"md-position":"bottom center","md-duration":"4000"}},[n("span",[t._v("Connection error. Please reconnect using connect button!.")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("md-card",{attrs:{"md-with-hover":""}},[n("md-card-header",[n("md-avatar",[n("img",{attrs:{src:t.avatar,alt:"Manel Gavaldà Andreu"}})]),t._v(" "),n("div",{staticClass:"md-title"},[t._v(t._s(t.name))]),t._v(" "),n("div",{staticClass:"md-subhead"},[t._v("Manel")])],1),t._v(" "),n("md-card-content",[n("form",{attrs:{novalidate:""},on:{submit:function(e){e.stopPropagation(),e.preventDefault(),t.submit(e)}}},[n("md-input-container",[n("label",[t._v("Name")]),t._v(" "),n("md-input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"Put your name here"},domProps:{value:t.name},on:{input:function(e){t.name=e}}})],1),t._v(" "),n("md-input-container",[n("label",[t._v("Email")]),t._v(" "),n("md-input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{placeholder:"Put your email here"},domProps:{value:t.email},on:{input:function(e){t.email=e}}})],1),t._v(" "),n("md-input-container",[n("label",[t._v("Created at")]),t._v(" "),n("md-input",{directives:[{name:"model",rawName:"v-model",value:t.createdAt,expression:"createdAt"}],attrs:{placeholder:"Your date here"},domProps:{value:t.createdAt},on:{input:function(e){t.createdAt=e}}})],1),t._v(" "),n("md-input-container",[n("label",[t._v("Updated at")]),t._v(" "),n("md-input",{directives:[{name:"model",rawName:"v-model",value:t.updatedAt,expression:"updatedAt"}],attrs:{placeholder:"Your date here"},domProps:{value:t.updatedAt},on:{input:function(e){t.updatedAt=e}}})],1)],1)]),t._v(" "),n("md-card-actions",[n("md-button",[t._v("Action")]),t._v(" "),n("md-button",[t._v("Action")])],1)],1)},staticRenderFns:[]}}]);
//# sourceMappingURL=app.84745cc30bc870546600.js.map